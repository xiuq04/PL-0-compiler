# lab_3 实验报告
###### PB16111154                朱猛猛

### 实验内容
本次实验的内容是在实验二的内容上进行扩展，并进一步对可能出现的词法和语法错误进行更为详细的报错以及处理。

### 我所做的内容
我的内容是对扩展后的PLO编译器的词法以及语法的错误进行报错和处理。并且在此过程中对另外两个组员写的内容里犯的一些小错误进行改正。对于词法分析的错误，我在PL0Lex_get_token(lex)时保存了lex这一行开始到该lex的内容，并且在pl0_lex.h以及pl0_lex.c中声明并实现添加了读取当前lex所在行的全部内容的函数Get_line_content()函数（ps：这个函数不改变文件中指针的位置）。当遇到词法错误时，就调用Get_line_content()函数，然后利用我声明并实现的Print_Error1(char * error)函数跟据错误类型进行报错。在语法分析里我实现了record（lex）函数，它将传入函数的lex的相关信息保存下来，并在语法分析函数中每次使用PL0Lex_get_token(lex)前，把原来的lex保存下来。这样当遇到错误发生的行数与发现错误的lex不在一行的时候，就可以根据保存的上个lex的信息直接调用PL0_print_error函数进行报错；如果是同一行的就和词法错误一样利用Get_line_content和Print_Error1函数进行报错。