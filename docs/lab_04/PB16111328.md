# 实验报告
## 遇到的问题
* 问题描述

#### 标记回填位置时使用了全局变量，这样会导致只能记录最近一次需要回填处的跳转。比如if-else语句嵌套一个begin-end，然后begin-end里面又有if-else，那么在分析到外层的if条件后所要执行的statement后需要进行回填，即将原先留出的空白补上跳转指令，但是由于statement里的if-else将标记位置修改为内部的回填位置，这样就无法进行寻找，从而导致回填错误。
* 问题解决

#### 查看输出的asm文件，发现这样的例子中跳转指令会少，也就是说if-else里嵌套if-else将只会出现一个跳转指令，所以就从跳转回填处寻找问题，一步步排查找到这个作用域的问题，修改为局部变量，使其只作用于当前分析的level。
* 思考与启发

#### 一般使用全局变量要小心各个位置对它的修改和引用，要清楚值在哪被修改，确保引用正确。
## 组内任务与实验过程
* 组内任务

#### 由于上次实验我就做了数组部分的处理，所以这次实验依然选择含有数组的处理任务。包括引用变量（在分析因子处）、赋值语句的引用和定值、条件判断中的短路计算和call语句所实现的跳入procedure和结束时跳出。具体未明确划分，也包含和其他组员一起完成（如一人写一人看，一起调试）。
